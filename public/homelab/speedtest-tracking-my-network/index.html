<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Speedtest tracking my network | ObserveAutomation</title><link rel=stylesheet href=../../css/style.css></head><body><header><div class="container header-flex"><div class=site-title>ObserveAutomation</div><nav><a href=../../>Home</a>
<a href=../../about>About</a>
<a href=../../homelab/>Homelab</a>
<a href=../../portfolio/>Portfolio</a>
<a href=../../contact>Contact</a></nav></div></header><main class=container><div class=page-content><h1>Speedtest tracking my network</h1><p><em>June 4, 2025</em></p><h1 id=speedtext-tracking-my-network>Speedtext tracking my network</h1><p>I like to know what speed i&rsquo;m getting from my ISP. I found a nifty docker container to do that. The web site also provides instructions for k8s deployment.</p><h2 id=steps>Steps</h2><h3 id=creating-an-encryption-key>Creating an encryption key</h3><p>A key is required for encryption. The following command generates a key which can be used in the APP_KEY that will be set later.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo -n <span style=color:#e6db74>&#39;base64:&#39;</span>; openssl rand -base64 32;
</span></span></code></pre></div><p>For ease of retrieval, I have saved that key in a file called APP_KEY.</p><h3 id=setting-up-a-database>Setting up a database</h3><p>Speed Tracker will need somewhere to store its data. There are four choices: SQLite, MariaDB, MySQL and Postgres. For this experiment I will use SQLite.</p><p>I used portainer (already deployed on my &lsquo;dock&rsquo; VM) to deploy the container.</p><p>I copied into Portainer the configuration that I will need from SpeedtestTracker&rsquo;s <a href=https://docs.speedtest-tracker.dev/getting-started/installation/using-docker-compose>documentation page for Docker Compose</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>speedtest-tracker</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>lscr.io/linuxserver/speedtest-tracker:latest</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>speedtest-tracker</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>8080</span>:<span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>8443</span>:<span style=color:#ae81ff>443</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>PUID=1000</span>
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>PGID=1000</span>
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>APP_KEY=</span>
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>DB_CONNECTION=sqlite</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>/path/to/data:/config</span>
</span></span><span style=display:flex><span>            - <span style=color:#ae81ff>/path/to-custom-ssl-keys:/config/keys</span>
</span></span></code></pre></div><p>Then I enhanced the environment variables to suit my needs. The environment variables are documented <a href=https://docs.speedtest-tracker.dev/getting-started/environment-variables>here</a>.</p><p>Beyond those already present in the yaml file, the key variables we need to set are: ADMIN_NAME, ADMIN_EMAIL, ADMIN_PASSWORD.</p><p>The admin name, email, password are used to set the initial login user. I used the following values:</p><ul><li>ADMIN_NAME=David</li><li><a href="mailto:ADMIN_EMAIL=david.judge@computer.org">ADMIN_EMAIL=david.judge@computer.org</a></li><li>ADMIN_PASSSWORD=DJAdminPassword</li></ul><p>I will update the APP_KEY value with the one I created in the first step.</p><p>I will also create a Docker volume in <code>~/SpeedTest/data</code>.</p><p>In Portainer, I added the yaml above and started the container.</p><p>Now I can get to https://dock:8443 where I have to create a user.</p><p>At first I could not see anything - It seems the web page assumes the user is running in dark mode. I had to select the text to see what was there:
<img alt=Alt loading=lazy src=../../homelab/speedtest-tracking-my-network/images/SpeedTracker_Start_page.png></p><p>Selecting the first entry takes me to a sign-in page where I gave the initial user-email/password:</p><p>Interestingly, you can set the initial user / email / password as environment variables. These are documented <a href=https://docs.speedtest-tracker.dev/getting-started/environment-variables>here</a>. Look for the &ldquo;ADMIN&rdquo; entries.</p><p>You can also set the speedtest to run on a schedule by setting the SPEEDTEST_SCHEDULE environment variable. Here&rsquo;s an example to run a speedtest at 12 minutes past every even hour (i.e. 00:12, 02:12, 04:12, etc.).</p><pre tabindex=0><code>SPEEDTEST_SCHEDULE=12 */2 * * *
</code></pre></div></main><footer><p>Â© 2025 ObserveAutomation</p></footer></body></html>